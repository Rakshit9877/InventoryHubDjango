{% extends 'base.html' %}
{% load static %}

{% block title %}Login - InventoryHub{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
{% endblock %}

{% block auth_content %}
<div class="login-container">
    <div class="container">
        <div class="row align-items-center justify-content-center min-vh-100">
            <div class="col-md-6 mb-4 mb-md-0">
                <div id="testimonialCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="3000">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <div class="text-center">
                                <img src="{% static 'images/inventory_management.svg' %}" alt="Inventory Management" class="img-fluid mb-4">
                                <div class="carousel-caption">
                                    <h3>"Welcome back to InventoryHub"</h3>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="text-center">
                                <img src="{% static 'images/inventory_dashboard.svg' %}" alt="Inventory Dashboard" class="img-fluid mb-4">
                                <div class="carousel-caption">
                                    <h3>"Your inventory management solution"</h3>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="text-center">
                                <img src="{% static 'images/logo_placeholder.svg' %}" alt="InventoryHub" class="img-fluid mb-4">
                                <div class="carousel-caption">
                                    <h3>"Manage your business with ease"</h3>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#testimonialCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        <button type="button" data-bs-target="#testimonialCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                        <button type="button" data-bs-target="#testimonialCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-container">
                    <div class="text-center welcome-text">
                        <h2 class="fw-bold">Welcome back</h2>
                        <p class="text-muted">Please enter your credentials to continue</p>
                    </div>

                    <form method="post" action="{% url 'accounts:login' %}">
                        {% csrf_token %}
                        
                        <div class="form-group">
                            <i class="bi bi-person input-icon"></i>
                            <input type="text" name="{{ form.username.name }}" id="{{ form.username.id_for_label }}" placeholder="Username" class="form-control" value="{{ form.username.value|default_if_none:'' }}" required>
                            {% if form.username.errors %}
                            <div class="error">{{ form.username.errors }}</div>
                            {% endif %}
                        </div>
                        
                        <div class="form-group">
                            <i class="bi bi-lock input-icon"></i>
                            <input type="password" name="{{ form.password.name }}" id="{{ form.password.id_for_label }}" placeholder="Password" class="form-control" required>
                            {% if form.password.errors %}
                            <div class="error">{{ form.password.errors }}</div>
                            {% endif %}
                        </div>
                        
                        {% if form.non_field_errors %}
                        <div class="alert alert-danger">
                            {{ form.non_field_errors }}
                        </div>
                        {% endif %}
                        
                        <div class="d-flex justify-content-between mb-3">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="remember">
                                <label class="form-check-label" for="remember">Remember me</label>
                            </div>
                            <a href="#" class="text-decoration-none">Forgot password?</a>
                        </div>

                        <button type="submit" class="btn btn-danger">
                            Log in <i class="bi bi-arrow-right ms-2"></i>
                        </button>
                    </form>

                    <div class="text-center mt-4">
                        <p>Don't have an account? <a href="{% url 'accounts:register' %}" class="text-decoration-none">Sign Up</a></p>
                        <p class="mt-2">
                            <a href="{% url 'index' %}" class="text-decoration-none">Back to home</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var myCarousel = new bootstrap.Carousel(document.getElementById('testimonialCarousel'), {
            interval: 3000,
            wrap: true,
            ride: 'carousel'
        });
    });
</script>
{% endblock %} 